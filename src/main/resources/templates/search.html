<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Поиск книг</title>
</head>
<body>
<h1>Поиск книг</h1>
<form th:action="@{/search}" method="get">
    <input type="text" name="query" th:value="${query}" placeholder="Введите запрос">
    <select name="filter">
        <option value="title" th:selected="${filter == 'title'}">Название</option>
        <option value="author" th:selected="${filter == 'author'}">Автор</option>
        <option value="genre" th:selected="${filter == 'genre'}">Жанр</option>
    </select>
    <button type="submit">Искать</button>
</form>

<h2>Результаты:</h2>
<ul>
    <li th:each="book : ${results}">
        <a th:href="@{/book/{id}(id=${book.id})}">
            <span th:text="${book.title}"></span> - <span th:text="${book.author}"></span>
        </a>
    </li>
</ul>
<a href="/library">Назад к библиотеке</a>
</body>
</html>
